<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>音訊轉錄儀 (重構版)</title>
    <link href="/dist/output.css" rel="stylesheet">
</head>
<body class="bg-gray-100 font-sans">
    <div id="app" class="container mx-auto p-4 sm:p-6 lg:p-8 flex flex-col gap-6">
        <!-- 標題 -->
        <header class="card">
            <h1>音訊轉錄儀 (重構版)</h1>
        </header>

        <!-- 全域狀態訊息 -->
        <div id="status-message-area" class="card" style="display: none; padding: 12px; border-width: 2px;">
            <p id="status-message-text" style="margin: 0; font-weight: 500; text-align: center;"></p>
        </div>

        <!-- 全域儀表板 -->
        <div class="card">
            <h2>📊 全域儀表板</h2>
            <div class="dashboard-grid">
                <div class="stat-item">
                    <span id="status-light" class="status-light status-green"></span>
                    <strong>狀態:</strong> <span id="status-text">準備就緒</span>
                </div>
                <div class="stat-item"><strong>模型:</strong> <span id="model-display">medium</span></div>
                <div class="stat-item"><strong>GPU:</strong> <span id="gpu-display">未偵測到</span></div>
            </div>
            <div class="dashboard-grid" style="margin-top: 16px;">
                 <div class="stat-item"><span>CPU:</span> <span id="cpu-label">--%</span></div>
                 <div class="stat-item"><span>RAM:</span> <span id="ram-label">--%</span></div>
                 <div class="stat-item"><span>GPU:</span> <span id="gpu-label">--%</span></div>
            </div>
        </div>

        <!-- 功能分頁導覽 -->
        <div class="card">
            <div class="tab-container">
                <button class="tab-button active" data-tab="local-file-tab">📁 本機檔案轉錄</button>
                <button class="tab-button" data-tab="downloader-tab">📥 媒體下載器</button>
                <button class="tab-button" data-tab="youtube-report-tab">▶️ YouTube 轉報告</button>
            </div>
        </div>

        <!-- 分頁內容 -->
        <div id="tab-content-container">
            <div id="local-file-tab" class="tab-content active">
                <!-- LocalTranscriber component will be rendered here -->
            </div>
            <div id="downloader-tab" class="tab-content">
                <!-- MediaDownloader component will be rendered here -->
            </div>
            <div id="youtube-report-tab" class="tab-content">
                <!-- YouTubeReporter component will be rendered here -->
            </div>
        </div>

        <!-- 檔案總管和任務列表將由它們自己的組件渲染 -->
        <div id="task-list-container"></div>
        <div id="file-browser-container"></div>
        <div id="log-viewer-container"></div>

    </div>

    <!-- JULES: Ported from damo.html -->
    <div id="preview-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-title">報告預覽</h2>
                <button id="modal-close-btn" class="modal-close-button">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Content will be dynamically generated by JS -->
            </div>
            <div class="modal-footer">
                <a id="modal-download-btn" href="#" download class="button-like">下載檔案</a>
                <button id="modal-copy-link-btn">複製連結</button>
            </div>
        </div>
    </div>

    <div id="details-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content" style="max-width: 500px;">
            <div class="modal-header">
                <h2 id="details-modal-title">任務詳細資訊</h2>
                <button id="details-modal-close-btn" class="modal-close-button">&times;</button>
            </div>
            <div id="details-modal-body" class="modal-body">
                <!-- Details will be populated by JS -->
            </div>
            <div class="modal-footer">
                 <button id="details-modal-ok-btn">確認</button>
            </div>
        </div>
    </div>

    <script type="module" src="/dist/main.js"></script>
</body>
</html>
