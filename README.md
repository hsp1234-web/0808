# 鳳凰音訊轉錄儀 (Phoenix Transcriber)

[![zh-Hant](https://img.shields.io/badge/language-繁體中文-blue.svg)](README.md)

這是一個高效、可擴展的音訊轉錄專案，旨在提供一個可以透過 Web 介面輕鬆操作的語音轉文字服務。專案近期已整合 **YouTube 影片處理與 AI 分析** 功能。

---

## ⚡️ 如何啟動與測試

我們提供兩種主要的執行方式：一個用於本地開發與端對端測試，另一個專為在 Google Colab 中部署而設計。

### (主要) 方式一：本地端對端測試 (`local_run.py`)

**這是進行開發和功能驗證的唯一推薦方式。** `local_run.py` 是一個整合測試腳本，它會自動化地在一個乾淨的環境中，啟動所有必要的後端服務，並執行一個真實的 YouTube 處理任務來驗證系統核心功能。

**優點**:
*   **全自動化**: 自動安裝依賴、清理舊資料庫、啟動所有服務。
*   **高可靠性**: 內建了健全的程序管理與清理機制，確保每次執行都在乾淨的環境中，避免了埠號衝突等問題。
*   **真實流程驗證**: 完整地測試了從任務提交到資料庫記錄、再到程序執行的整個後端流程。

**如何使用**:
```bash
# 確保您已在環境中設定 GOOGLE_API_KEY
python local_run.py
```
當腳本執行成功並顯示「所有驗證均已通過！」或「任務正確地以 'failed' 狀態結束」（在外部服務失敗的情況下）時，即表示系統核心功能運作正常。

### 方式二：在 Google Colab 中部署 (`colab.py`)

`colab.py` 是專為在 Google Colab 環境中一鍵部署和運行本專案而設計的啟動器。它會處理 Git 倉庫的複製、環境設定，並利用 Colab 的代理功能生成一個公開的訪問連結。

**如何使用**:
1.  在 Google Colab 中開啟一個新的筆記本。
2.  將 `colab.py` 的完整程式碼複製並貼到 Colab 的儲存格中。
3.  根據您的需求修改儲存格頂部的參數（例如，`TARGET_BRANCH_OR_TAG`）。
4.  執行該儲存格。儀表板將會顯示，並在伺服器就緒後提供一個 `ngrok` 或類似的代理連結供您訪問。

---

## 📈 專案狀態

**核心功能與測試 - ✅ 已完成**

*   [x] **架構重構**：已完成穩定的多程序架構（協調器、資料庫管理器、API 伺服器）。
*   [x] **功能完整**：本地檔案轉錄與 YouTube 影片處理功能均已完整實現。
*   [x] **測試穩定**：`local_run.py` 端對端測試已修復，能夠穩定、可靠地驗證後端核心流程。前端相關的 Playwright 測試 (`tests/verify_all_features.py`) 也已修復，可驗證 UI 互動。

---
## 📁 檔案結構 (摘要)

```
/
|-- api_server.py        # Web 伺服器 (FastAPI)
|-- orchestrator.py      # 系統協調器
|-- local_run.py         # [主要] 本地端對端測試腳本
|-- colab.py             # Google Colab 部署腳本
|
|-- static/              # 前端資源 (mp3.html)
|-- db/                  # 資料庫模組
|-- tools/               # 核心工具 (轉錄、下載、AI處理)
|-- tests/               # Playwright 等測試碼
`-- README.md            # 本文件
```
