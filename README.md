# 鳳凰音訊轉錄儀 (Phoenix Transcriber)

[![zh-Hant](https://img.shields.io/badge/language-繁體中文-blue.svg)](README.md)

這是一個高效、可擴展的音訊轉錄專案，旨在提供一個可以透過 Web 介面輕鬆操作的語音轉文字服務。專案目前正處於積極的重構階段，以建立一個更現代化、更穩健的後端架構。

---

## 🚀 核心架構

我們採用了業界成熟的 **「Web 前端 + 異步任務佇列後端」** 架構，以實現最佳的使用者體驗和系統穩定性。

*   **Web 伺服器 (`app/main.py`)**:
    *   基於 **FastAPI** 框架，提供一個輕量級、高效能的 API 服務。
    *   **職責**：
        1.  提供靜態的前端操作介面 (`mp3.html`)。
        2.  接收使用者上傳的音訊檔案，並將「轉錄任務」推入任務佇列。
        3.  立刻對使用者請求做出回應，避免前端頁面卡頓。

*   **背景工作者 (`app/worker.py`)**:
    *   一個獨立的處理程序，與 Web 伺服器並行運作。
    *   **職責**：
        1.  持續監聽任務佇列。
        2.  從佇列中依序取出任務。
        3.  呼叫核心轉錄工具 (`app/core/transcriber.py`) 來執行耗時的語音轉錄工作。
        4.  (未來) 將轉錄結果更新到資料庫或通知前端。

*   **前端介面 (`app/static/mp3.html`)**:
    *   一個純粹的 HTML/CSS/JavaScript 單頁應用。
    *   **職責**：
        1.  提供檔案上傳介面。
        2.  與後端 API 進行非同步通訊。
        3.  動態顯示轉錄狀態與最終結果。

這個架構確保了 Web 服務的快速響應和背景任務的穩定執行，兩者互不干擾，是現代 Web 應用的最佳實踐之一。

---

## 📁 檔案結構

專案採用了清晰、分層的目錄結構，使程式碼更易於維護和擴展。

```
/
|
|-- app/  (核心應用程式目錄)
|   |-- main.py             # Web 伺服器 (FastAPI)
|   |-- worker.py           # 背景工作者
|   |-- queue.py            # 任務佇列實現
|   |-- core/
|   |   `-- transcriber.py  # 核心轉錄邏輯
|   `-- static/
|       `-- mp3.html        # 前端頁面
|
|-- scripts/ (開發/維護腳本)
|   `-- local_run.py        # 本地開發啟動器
|
|-- docs/ (專案歷史文件)
|-- tests/ (測試碼)
|
|-- .gitignore              # Git 忽略設定
|-- colab.py                # Google Colab 啟動器
`-- requirements.txt        # Python 依賴列表
```

---

## 📈 目前進度

**專案重構第一階段：架構與檔案結構重建 - ✅ 已完成**

*   [x] 與專案關係人達成共識，確立了全新的 **「Web 前端 + 異步任務佇列後端」** 架構。
*   [x] 重新規劃了專案的檔案與目錄結構，使其更清晰、更專業。
*   [x] 刪除了舊的、不再使用的程式碼與設定檔。
*   [x] 建立了新架構所需的所有檔案與目錄的佔位符。
*   [x] 更新了 `requirements.txt` 以反映新架構的技術選型。
*   [x] 撰寫了此 `README.md` 文件，記錄了新的架構和進度。

## ⏭️ 下一步

接下來，我們將進入程式碼實現階段：

1.  **實現後端 API 伺服器**：在 `app/main.py` 中編寫 FastAPI 程式碼，提供網頁和 API 端點。
2.  **整合語音轉錄功能**：在 `app/core/transcriber.py` 中實現轉錄邏輯。
3.  **開發前端互動功能**：更新 `app/static/mp3.html` 中的 JavaScript，使其能與後端通訊。
4.  **實現背景工作者**：在 `app/worker.py` 中編寫從佇列讀取並執行任務的邏輯。
5.  **改造 Colab 啟動器**：微調 `colab.py` 以適應並啟動新架構。
