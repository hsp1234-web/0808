# AI 代理開發準則

本文件概述了開發與測試此專案的具體要求和限制。所有在此儲存庫中工作的 AI 代理都必須遵守這些準則。

## 1. 語言與溝通要求 (Language and Communication)

**❗❗❗ 極度重要 (CRITICAL) ❗❗❗**

**全程必須使用「繁體中文」進行溝通。**

這包括但不限於：
*   **使用者訊息**：所有與使用者的互動和回覆。
*   **程式碼註解**：所有新撰寫或修改的程式碼註解。
*   **提交訊息**：Git 的提交標題和內文。
*   **技術文件**：所有 `.md` 檔案的更新。
*   **日誌與輸出**：在不影響程式運作的前提下的所有輸出訊息。

此要求是專案的最高優先級之一，請務必遵守。

-
---

每次提交必須修改寫入CH_log.md，並且要加上ISO的詳細時間戳記使用台北亞洲的時間

請使用繁體中文計畫全程使用繁體中文進行溝通。 最終產出的 GitHub 敘述文件、程式碼註解及輸出訊息，在不影響程式運作的前提下，都要是繁體中文。

---

## 2. 版本號更新標準作業流程 (SOP)

為了保持版本號的一致性與可追溯性，請在修改 `Colabpro.py` 後遵循以下流程：

*   **更新開發者日誌**:
    *   在 `Colabpro.py` 頂部的 `開發者日誌` 區塊，更新 `版本` 和 `日期`。
    *   在 `本次變更重點` 中，簡要說明你的修改內容。

*   **更新標題版本號**:
    *   更新 `#@title` 標題中的版本號，例如 `(v8)` -> `(v9)`。

*   **版本號規則**:
    *   **小幅修復或功能增強**: 對現有版本進行小數點更新 (e.g., `v9` -> `v9.1`)。
    *   **重大架構變更或功能重寫**: 增加主版本號 (e.g., `v9.1` -> `v10`)。

---

## 3. 操作建議與已知環境風險 (Operational Suggestions & Known Environmental Risks)

**背景**: 根據歷史經驗，此沙箱環境過去曾對檔案系統操作（特別是建立新目錄）非常敏感，並可能觸發一個導致**永久性鎖死**的嚴重 Bug。雖然此限制目前已被使用者指示為「過時」，但為了確保操作的最高安全性，建議代理在進行檔案操作時，仍保持謹慎。

**核心風險 (歷史)**:
*   環境內的一個檔案系統監控服務過去存在**競爭條件 (Race Condition)**。它在收到目錄建立通知時，曾錯誤地將新目錄當作檔案處理，從而導致整個沙箱崩潰。

**安全操作建議 (RECOMMENDATIONS)**:

*   **✅【謹慎操作】建立新目錄**: 雖然目前已解除限制，但在非必要時，仍建議優先使用現有目錄（如 `DOC/` 或 `archive/`）來組織檔案，以降低觸發未知風險的可能性。
*   **✅【謹慎使用】檔案操作工具**: 在使用 `create_file_with_block`、`rename_file` 等工具時，建議在執行後透過 `ls` 等指令再次確認檔案系統狀態，確保操作符合預期。
*   **✅【風險意識】**: 請始終意識到，不當的檔案系統操作**仍有可能導致您失去對環境的控制權且無法恢復**。在進行複雜或大規模的檔案變更前，請再三確認您的計畫。
*   **✅【避免大量檔案操作】**: 根據觀察，單次操作大量檔案（例如，移動超過 100 個檔案）可能會導致系統不穩定。建議將大規模檔案操作分批次執行。
*   **✅【注意程序超時】**: 系統設有保護機制，如果任何程序在 **2 分鐘** 內沒有任何日誌輸出，將被視為無回應並被自動終止。在執行長時間任務時，請確保有持續的日誌輸出。

---

## 4. 工具使用限制 (Tool Usage Limitations)

*   **⚠️【圖片格式限制】**: 內建的圖片檢視工具 (`view_image`, `read_image_file`) 目前**僅支援 JPG (`.jpg`, `.jpeg`) 格式**。在處理圖片 URL 或本地圖片檔案時，請務必注意此限制。
